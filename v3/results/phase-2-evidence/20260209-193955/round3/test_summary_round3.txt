===== TEST 01 (phase2_audio_manager) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_audio_manager.py -v
RESULT: PASS
--- LOG TAIL (phase2_audio_manager) ---
============================= test session starts ==============================
platform darwin -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniforge/base/envs/v3/bin/python3
cachedir: .pytest_cache
rootdir: /Users/pyw/new/MyRecall
configfile: pytest.ini
plugins: anyio-4.12.1
collecting ... collected 13 items

tests/test_phase2_audio_manager.py::TestListAudioDevices::test_returns_input_devices PASSED [  7%]
tests/test_phase2_audio_manager.py::TestListAudioDevices::test_returns_empty_on_error PASSED [ 15%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_init_defaults PASSED [ 23%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_is_alive_false_when_not_started PASSED [ 30%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_resolve_device_by_index PASSED [ 38%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_resolve_device_by_name PASSED [ 46%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_resolve_device_not_found PASSED [ 53%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_start_new_chunk_creates_wav PASSED [ 61%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_close_chunk_fires_callback PASSED [ 69%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_close_empty_chunk_removes_file PASSED [ 76%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_audio_callback_writes_frames PASSED [ 84%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_audio_callback_rotates_on_duration PASSED [ 92%]
tests/test_phase2_audio_manager.py::TestAudioManager::test_stop_flushes_chunk PASSED [100%]

============================== 13 passed in 0.13s ==============================


===== TEST 02 (phase2_audio_recorder) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_audio_recorder.py -v
RESULT: PASS
--- LOG TAIL (phase2_audio_recorder) ---
============================= test session starts ==============================
platform darwin -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniforge/base/envs/v3/bin/python3
cachedir: .pytest_cache
rootdir: /Users/pyw/new/MyRecall
configfile: pytest.ini
plugins: anyio-4.12.1
collecting ... collected 7 items

tests/test_phase2_audio_recorder.py::TestAudioRecorder::test_init_defaults PASSED [ 14%]
tests/test_phase2_audio_recorder.py::TestAudioRecorder::test_is_running_false_when_stopped PASSED [ 28%]
tests/test_phase2_audio_recorder.py::TestAudioRecorder::test_stop_when_not_running PASSED [ 42%]
tests/test_phase2_audio_recorder.py::TestAudioRecorder::test_on_chunk_complete_enqueues_with_metadata PASSED [ 57%]
tests/test_phase2_audio_recorder.py::TestAudioRecorder::test_on_chunk_complete_correct_checksum PASSED [ 71%]
tests/test_phase2_audio_recorder.py::TestAudioRecorder::test_on_chunk_complete_skips_empty_wav PASSED [ 85%]
tests/test_phase2_audio_recorder.py::TestAudioRecorder::test_on_chunk_complete_nonexistent_file PASSED [100%]

============================== 7 passed in 0.23s ===============================


===== TEST 03 (phase2_vad) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_vad.py -v
RESULT: PASS
--- LOG TAIL (phase2_vad) ---
============================= test session starts ==============================
platform darwin -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniforge/base/envs/v3/bin/python3
cachedir: .pytest_cache
rootdir: /Users/pyw/new/MyRecall
configfile: pytest.ini
plugins: anyio-4.12.1
collecting ... collected 8 items

tests/test_phase2_vad.py::TestSpeechSegment::test_fields PASSED          [ 12%]
tests/test_phase2_vad.py::TestVoiceActivityDetector::test_init_defaults PASSED [ 25%]
tests/test_phase2_vad.py::TestVoiceActivityDetector::test_init_custom PASSED [ 37%]
tests/test_phase2_vad.py::TestVoiceActivityDetector::test_no_model_returns_empty PASSED [ 50%]
tests/test_phase2_vad.py::TestVoiceActivityDetector::test_has_speech_delegates_to_get_segments PASSED [ 62%]
tests/test_phase2_vad.py::TestVoiceActivityDetector::test_webrtcvad_segments_on_silence SKIPPED [ 75%]
tests/test_phase2_vad.py::TestVoiceActivityDetector::test_webrtcvad_segments_on_noise SKIPPED [ 87%]
tests/test_phase2_vad.py::TestVoiceActivityDetector::test_invalid_wav_returns_empty PASSED [100%]

=========================== short test summary info ============================
SKIPPED [1] tests/test_phase2_vad.py:97: webrtcvad not installed
SKIPPED [1] tests/test_phase2_vad.py:119: webrtcvad not installed
========================= 6 passed, 2 skipped in 0.22s =========================


===== TEST 04 (phase2_transcriber) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_transcriber.py -v
RESULT: PASS
--- LOG TAIL (phase2_transcriber) ---
============================= test session starts ==============================
platform darwin -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniforge/base/envs/v3/bin/python3
cachedir: .pytest_cache
rootdir: /Users/pyw/new/MyRecall
configfile: pytest.ini
plugins: anyio-4.12.1
collecting ... collected 8 items

tests/test_phase2_transcriber.py::TestTranscriptionSegment::test_fields PASSED [ 12%]
tests/test_phase2_transcriber.py::TestWhisperTranscriber::test_init_defaults PASSED [ 25%]
tests/test_phase2_transcriber.py::TestWhisperTranscriber::test_init_custom PASSED [ 37%]
tests/test_phase2_transcriber.py::TestWhisperTranscriber::test_engine_name PASSED [ 50%]
tests/test_phase2_transcriber.py::TestWhisperTranscriber::test_transcribe_no_model_returns_empty PASSED [ 62%]
tests/test_phase2_transcriber.py::TestWhisperTranscriber::test_transcribe_returns_segments PASSED [ 75%]
tests/test_phase2_transcriber.py::TestWhisperTranscriber::test_transcribe_filters_empty_text PASSED [ 87%]
tests/test_phase2_transcriber.py::TestWhisperTranscriber::test_reinit_on_cpu PASSED [100%]

============================== 8 passed in 0.17s ===============================


===== TEST 05 (phase2_ingestion) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_ingestion.py -v
RESULT: PASS
--- LOG TAIL (phase2_ingestion) ---
============================= test session starts ==============================
platform darwin -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniforge/base/envs/v3/bin/python3
cachedir: .pytest_cache
rootdir: /Users/pyw/new/MyRecall
configfile: pytest.ini
plugins: anyio-4.12.1
collecting ... collected 10 items

tests/test_phase2_ingestion.py::TestAudioUploadAPI::test_audio_upload_accepted PASSED [ 10%]
tests/test_phase2_ingestion.py::TestAudioUploadAPI::test_audio_upload_creates_db_entry PASSED [ 20%]
tests/test_phase2_ingestion.py::TestAudioUploadAPI::test_audio_upload_by_content_type PASSED [ 30%]
tests/test_phase2_ingestion.py::TestAudioUploadAPI::test_audio_upload_by_filename PASSED [ 40%]
tests/test_phase2_ingestion.py::TestAudioUploadAPI::test_upload_no_file_returns_400 PASSED [ 50%]
tests/test_phase2_ingestion.py::TestAudioUploadAPI::test_upload_no_metadata_returns_400 PASSED [ 60%]
tests/test_phase2_ingestion.py::TestAudioChunksListAPI::test_list_audio_chunks_empty PASSED [ 70%]
tests/test_phase2_ingestion.py::TestAudioChunksListAPI::test_list_audio_chunks_after_upload PASSED [ 80%]
tests/test_phase2_ingestion.py::TestAudioChunksListAPI::test_list_audio_chunks_status_filter PASSED [ 90%]
tests/test_phase2_ingestion.py::TestQueueStatusAudio::test_queue_status_includes_audio PASSED [100%]

============================== 10 passed in 5.50s ==============================


===== TEST 06 (phase2_worker) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_worker.py -v
RESULT: PASS
--- LOG TAIL (phase2_worker) ---
platform darwin -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniforge/base/envs/v3/bin/python3
cachedir: .pytest_cache
rootdir: /Users/pyw/new/MyRecall
configfile: pytest.ini
plugins: anyio-4.12.1
collecting ... collected 15 items

tests/test_phase2_worker.py::TestAudioProcessingResult::test_defaults PASSED [  6%]
tests/test_phase2_worker.py::TestAudioProcessingResult::test_with_error PASSED [ 13%]
tests/test_phase2_worker.py::TestAudioChunkProcessor::test_init_lazy PASSED [ 20%]
tests/test_phase2_worker.py::TestAudioChunkProcessor::test_process_missing_file PASSED [ 26%]
tests/test_phase2_worker.py::TestAudioChunkProcessor::test_process_no_speech PASSED [ 33%]
tests/test_phase2_worker.py::TestAudioChunkProcessor::test_process_with_speech PASSED [ 40%]
tests/test_phase2_worker.py::TestAudioProcessingWorker::test_init PASSED [ 46%]
tests/test_phase2_worker.py::TestAudioProcessingWorker::test_stop_event PASSED [ 53%]
tests/test_phase2_worker.py::TestSQLStoreAudioLifecycle::test_insert_audio_chunk PASSED [ 60%]
tests/test_phase2_worker.py::TestSQLStoreAudioLifecycle::test_get_audio_chunk_by_id PASSED [ 66%]
tests/test_phase2_worker.py::TestSQLStoreAudioLifecycle::test_pending_processing_completed_lifecycle PASSED [ 73%]
tests/test_phase2_worker.py::TestSQLStoreAudioLifecycle::test_pending_processing_failed_lifecycle PASSED [ 80%]
tests/test_phase2_worker.py::TestSQLStoreAudioLifecycle::test_reset_stuck_audio_chunks PASSED [ 86%]
tests/test_phase2_worker.py::TestSQLStoreAudioLifecycle::test_get_next_pending_audio_chunk PASSED [ 93%]
tests/test_phase2_worker.py::TestSQLStoreAudioLifecycle::test_audio_chunk_status_counts PASSED [100%]

============================== 15 passed in 4.86s ==============================


===== TEST 07 (phase2_search) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_search.py -v
RESULT: PASS
--- LOG TAIL (phase2_search) ---
============================= test session starts ==============================
platform darwin -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniforge/base/envs/v3/bin/python3
cachedir: .pytest_cache
rootdir: /Users/pyw/new/MyRecall
configfile: pytest.ini
plugins: anyio-4.12.1
collecting ... collected 7 items

tests/test_phase2_search.py::TestAudioFTSSearch::test_insert_and_search_transcription PASSED [ 14%]
tests/test_phase2_search.py::TestAudioFTSSearch::test_search_no_results PASSED [ 28%]
tests/test_phase2_search.py::TestAudioFTSSearch::test_search_audio_fts_pagination PASSED [ 42%]
tests/test_phase2_search.py::TestAudioFTSSearch::test_get_audio_transcriptions_by_time_range PASSED [ 57%]
tests/test_phase2_search.py::TestAudioFTSSearch::test_get_audio_transcriptions_outside_range PASSED [ 71%]
tests/test_phase2_search.py::TestSearchAPIAudio::test_search_endpoint_exists PASSED [ 85%]
tests/test_phase2_search.py::TestSearchAPIAudio::test_search_empty_query PASSED [100%]

============================== 7 passed in 4.18s ===============================


===== TEST 08 (phase2_timeline) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_timeline.py -v
RESULT: PASS
--- LOG TAIL (phase2_timeline) ---
============================= test session starts ==============================
platform darwin -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniforge/base/envs/v3/bin/python3
cachedir: .pytest_cache
rootdir: /Users/pyw/new/MyRecall
configfile: pytest.ini
plugins: anyio-4.12.1
collecting ... collected 9 items

tests/test_phase2_timeline.py::TestTimelineAPI::test_timeline_endpoint_exists PASSED [ 11%]
tests/test_phase2_timeline.py::TestTimelineAPI::test_timeline_empty_range PASSED [ 22%]
tests/test_phase2_timeline.py::TestTimelineAPI::test_timeline_with_audio_transcriptions PASSED [ 33%]
tests/test_phase2_timeline.py::TestTimelineAPI::test_timeline_source_filter_audio PASSED [ 44%]
tests/test_phase2_timeline.py::TestTimelineAPI::test_timeline_source_filter_video PASSED [ 55%]
tests/test_phase2_timeline.py::TestTimelineAPI::test_timeline_pagination PASSED [ 66%]
tests/test_phase2_timeline.py::TestTimelineAPI::test_timeline_invalid_times PASSED [ 77%]
tests/test_phase2_timeline.py::TestAudioTranscriptionsAPI::test_transcriptions_endpoint_exists PASSED [ 88%]
tests/test_phase2_timeline.py::TestAudioTranscriptionsAPI::test_transcriptions_with_data PASSED [100%]

============================== 9 passed in 4.33s ===============================


===== TEST 09 (phase2_performance) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_performance.py -v
RESULT: PASS
--- LOG TAIL (phase2_performance) ---
tests/test_phase2_performance.py::TestGate2P03Throughput::test_mock_queue_depth_stable PASSED [ 66%]
tests/test_phase2_performance.py::TestGate2P04AudioCaptureCPU::test_audio_manager_structural_attributes PASSED [ 77%]
tests/test_phase2_performance.py::TestGate2P04AudioCaptureCPU::test_audio_manager_callback_writes_frames PASSED [ 88%]
tests/test_phase2_performance.py::TestGate2P04AudioCaptureCPU::test_real_cpu_usage SKIPPED [100%]

=============================== warnings summary ===============================
tests/test_phase2_performance.py:77
  /Users/pyw/new/MyRecall/tests/test_phase2_performance.py:77: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

tests/test_phase2_performance.py:127
  /Users/pyw/new/MyRecall/tests/test_phase2_performance.py:127: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

tests/test_phase2_performance.py:245
  /Users/pyw/new/MyRecall/tests/test_phase2_performance.py:245: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
SKIPPED [1] tests/test_phase2_performance.py:77: Requires faster-whisper model download and CPU time
SKIPPED [1] tests/test_phase2_performance.py:127: Requires torch + silero-vad model download
SKIPPED [1] tests/test_phase2_performance.py:245: Requires real audio hardware and psutil
=================== 6 passed, 3 skipped, 3 warnings in 0.81s ===================


===== TEST 10 (phase2_quality) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_quality.py -v
RESULT: PASS
--- LOG TAIL (phase2_quality) ---
tests/test_phase2_quality.py::TestComputeWER::test_longer_sentence PASSED [ 55%]
tests/test_phase2_quality.py::TestGate2Q01WERClean::test_wer_clean_with_mock_whisper PASSED [ 61%]
tests/test_phase2_quality.py::TestGate2Q01WERClean::test_wer_clean_realistic_error PASSED [ 66%]
tests/test_phase2_quality.py::TestGate2Q01WERClean::test_wer_clean_with_minor_errors PASSED [ 72%]
tests/test_phase2_quality.py::TestGate2Q01WERClean::test_real_wer_clean_speech SKIPPED [ 77%]
tests/test_phase2_quality.py::TestGate2Q02WERNoisy::test_wer_noisy_with_mock_whisper PASSED [ 83%]
tests/test_phase2_quality.py::TestGate2Q02WERNoisy::test_wer_noisy_realistic_errors PASSED [ 88%]
tests/test_phase2_quality.py::TestGate2Q02WERNoisy::test_wer_noisy_boundary_case PASSED [ 94%]
tests/test_phase2_quality.py::TestGate2Q02WERNoisy::test_real_wer_noisy_speech SKIPPED [100%]

=============================== warnings summary ===============================
tests/test_phase2_quality.py:184
  /Users/pyw/new/MyRecall/tests/test_phase2_quality.py:184: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

tests/test_phase2_quality.py:257
  /Users/pyw/new/MyRecall/tests/test_phase2_quality.py:257: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
SKIPPED [1] tests/test_phase2_quality.py:184: Requires faster-whisper model and LibriSpeech test-clean dataset
SKIPPED [1] tests/test_phase2_quality.py:257: Requires faster-whisper model and real noisy meeting recordings
================== 16 passed, 2 skipped, 2 warnings in 0.20s ===================


===== TEST 11 (phase2_smoke) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_smoke.py -v
RESULT: PASS
--- LOG TAIL (phase2_smoke) ---
============================= test session starts ==============================
platform darwin -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /opt/homebrew/Caskroom/miniforge/base/envs/v3/bin/python3
cachedir: .pytest_cache
rootdir: /Users/pyw/new/MyRecall
configfile: pytest.ini
plugins: anyio-4.12.1
collecting ... collected 2 items

tests/test_phase2_smoke.py::TestPhase2SmokeEndToEnd::test_full_audio_pipeline PASSED [ 50%]
tests/test_phase2_smoke.py::TestPhase2SmokeEndToEnd::test_audio_upload_then_chunks_status PASSED [100%]

============================== 2 passed in 5.40s ===============================


===== TEST 12 (phase2_gates) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_gates.py -v
RESULT: PASS
--- LOG TAIL (phase2_gates) ---
tests/test_phase2_gates.py::TestGate2P01TranscriptionLatency::test_transcription_completes_within_budget PASSED [ 38%]
tests/test_phase2_gates.py::TestGate2P02VADLatency::test_vad_completes_within_budget PASSED [ 42%]
tests/test_phase2_gates.py::TestGate2P03Throughput::test_queue_depth_stable PASSED [ 46%]
tests/test_phase2_gates.py::TestGate2P04AudioCaptureCPU::test_callback_based_design PASSED [ 50%]
tests/test_phase2_gates.py::TestGate2Q01WERClean::test_wer_clean_under_threshold PASSED [ 53%]
tests/test_phase2_gates.py::TestGate2Q01WERClean::test_wer_clean_with_one_error PASSED [ 57%]
tests/test_phase2_gates.py::TestGate2Q02WERNoisy::test_wer_noisy_under_threshold PASSED [ 61%]
tests/test_phase2_gates.py::TestGate2Q02WERNoisy::test_wer_noisy_boundary PASSED [ 65%]
tests/test_phase2_gates.py::TestGate2S01Stability::test_24h_continuous_run SKIPPED [ 69%]
tests/test_phase2_gates.py::TestGate2R01VRAM::test_vram_usage_structural SKIPPED [ 73%]
tests/test_phase2_gates.py::TestGate2R02StorageRate::test_wav_file_size_reasonable PASSED [ 76%]
tests/test_phase2_gates.py::TestGate2R02StorageRate::test_daily_storage_estimate PASSED [ 80%]
tests/test_phase2_gates.py::TestGate2DG01Encryption::test_filevault_status_command PASSED [ 84%]
tests/test_phase2_gates.py::TestGate2DG01Encryption::test_luks_check_structural SKIPPED [ 88%]
tests/test_phase2_gates.py::TestGate2DG02Redaction::test_pii_redaction SKIPPED [ 92%]
tests/test_phase2_gates.py::TestGate2DG03Retention::test_cascade_delete_removes_all PASSED [ 96%]
tests/test_phase2_gates.py::TestGate2DG03Retention::test_expired_chunks_detected PASSED [100%]

=========================== short test summary info ============================
SKIPPED [1] tests/test_phase2_gates.py:540: Requires 24 hours of continuous runtime observation
SKIPPED [1] tests/test_phase2_gates.py:553: No GPU available -- VRAM measurement requires nvidia-smi
SKIPPED [1] tests/test_phase2_gates.py:627: Linux-only: LUKS check
SKIPPED [1] tests/test_phase2_gates.py:641: Optional gate -- PII redaction not implemented in Phase 2.0
======================== 22 passed, 4 skipped in 0.88s =========================


===== TEST 13 (phase0_all) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase0_*.py -v
RESULT: PASS
--- LOG TAIL (phase0_all) ---
tests/test_phase0_migration.py::TestIntegrity::test_checksum_deterministic PASSED [ 75%]
tests/test_phase0_models.py::TestVideoChunk::test_creation_with_defaults PASSED [ 76%]
tests/test_phase0_models.py::TestVideoChunk::test_creation_with_all_fields PASSED [ 77%]
tests/test_phase0_models.py::TestFrame::test_creation_with_required_fields PASSED [ 79%]
tests/test_phase0_models.py::TestFrame::test_creation_with_all_fields PASSED [ 80%]
tests/test_phase0_models.py::TestOcrText::test_creation PASSED           [ 81%]
tests/test_phase0_models.py::TestOcrText::test_with_optional_fields PASSED [ 82%]
tests/test_phase0_models.py::TestAudioChunk::test_creation_with_defaults PASSED [ 83%]
tests/test_phase0_models.py::TestAudioChunk::test_creation_with_all_fields PASSED [ 84%]
tests/test_phase0_models.py::TestAudioTranscription::test_nullable_speaker_id PASSED [ 86%]
tests/test_phase0_models.py::TestAudioTranscription::test_with_speaker_id PASSED [ 87%]
tests/test_phase0_models.py::TestPaginatedResponse::test_generic_with_video_chunk PASSED [ 88%]
tests/test_phase0_models.py::TestPaginatedResponse::test_has_more_false PASSED [ 89%]
tests/test_phase0_models.py::TestPaginatedResponse::test_serialization PASSED [ 90%]
tests/test_phase0_models.py::TestRecallEntryUnchanged::test_recall_entry_still_works PASSED [ 91%]
tests/test_phase0_upload_queue.py::TestCapacityEnforcement::test_capacity_enforcement_fifo PASSED [ 93%]
tests/test_phase0_upload_queue.py::TestCapacityEnforcement::test_fifo_deletion_order PASSED [ 94%]
tests/test_phase0_upload_queue.py::TestTTLCleanup::test_ttl_cleanup_7_days PASSED [ 95%]
tests/test_phase0_upload_queue.py::TestPostUploadDeletion::test_post_upload_deletion_timing PASSED [ 96%]
tests/test_phase0_upload_queue.py::TestExponentialBackoff::test_backoff_schedule PASSED [ 97%]
tests/test_phase0_upload_queue.py::TestExponentialBackoff::test_backoff_caps_at_max PASSED [ 98%]
tests/test_phase0_upload_queue.py::TestExponentialBackoff::test_consumer_uses_adr0002_backoff PASSED [100%]

============================== 86 passed in 5.42s ==============================


===== TEST 14 (phase1_all) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase1_*.py -v
RESULT: FAIL (rc=137)
--- LOG TAIL (phase1_all) ---
tests/test_phase1_video_recorder.py::TestVideoRecorder::test_compute_checksum PASSED [ 95%]
tests/test_phase1_video_recorder.py::TestVideoRecorder::test_stop_sets_flag PASSED [ 96%]
tests/test_phase1_video_recorder.py::TestVideoRecorder::test_runtime_pause_stops_sources_not_pipelines PASSED [ 96%]
tests/test_phase1_video_recorder.py::TestVideoRecorder::test_runtime_resume_restarts_sources_from_existing_pipelines PASSED [ 97%]
tests/test_phase1_video_recorder.py::TestVideoRecorder::test_periodic_status_logs_current_chunk PASSED [ 97%]
tests/test_phase1_video_recorder.py::TestVideoRecorder::test_periodic_status_prefers_active_chunk_name PASSED [ 98%]
tests/test_phase1_video_recorder.py::TestVideoRecorder::test_watcher_restarts_pipeline_when_chunk_stagnates PASSED [ 98%]
tests/test_phase1_video_recorder.py::TestVideoRecorder::test_watcher_restarts_segment_mode_on_no_chunk_progress PASSED [ 99%]
tests/test_phase1_video_recorder.py::TestVideoRecorder::test_watcher_does_not_restart_chunk_process_on_chunk_name_stagnation PASSED [100%]

=========================== short test summary info ============================
SKIPPED [1] tests/test_phase1_gates.py:324: Requires 7 calendar days of runtime observation
SKIPPED [1] tests/test_phase1_gates.py:332: Requires 24h runtime monitoring
SKIPPED [1] tests/test_phase1_gates.py:340: Requires 24h disk usage measurement
SKIPPED [1] tests/test_phase1_gates.py:348: Requires runtime memory measurement
SKIPPED [1] tests/test_phase1_gates.py:356: Requires real video recording and processing pipeline
SKIPPED [1] tests/test_phase1_gates.py:364: Requires 1h CPU measurement
SKIPPED [1] tests/test_phase1_gates.py:372: Requires 100-frame curated test dataset
SKIPPED [1] tests/test_phase1_gates.py:424: Optional gate - PII detection not implemented in Phase 1
======================== 189 passed, 8 skipped in 9.74s ========================
Slow ffmpeg stdin write monitor=1 latency=510.07ms
/var/folders/q2/gtfbxhrj7zv1xn9cn6f3pzj40000gn/T/tmptook5513: line 3: 60684 Killed: 9               python3 -m pytest tests/test_phase1_5_focused_browser_url.py tests/test_phase1_5_metadata_resolver.py tests/test_phase1_5_ocr_engine.py tests/test_phase1_5_offset_guard.py tests/test_phase1_buffer_pool.py tests/test_phase1_degradation.py tests/test_phase1_frame_extractor.py tests/test_phase1_gates.py tests/test_phase1_monitor_metadata_migration.py tests/test_phase1_monitor_upload_api.py tests/test_phase1_ocr_pipeline.py tests/test_phase1_pipeline_profile_change.py tests/test_phase1_retention.py tests/test_phase1_sck_stride_unpadding.py tests/test_phase1_search_debug_render.py tests/test_phase1_search_integration.py tests/test_phase1_server_startup.py tests/test_phase1_timeline_api.py tests/test_phase1_video_recorder.py -v

ERROR conda.cli.main_run:execute(127): `conda run python3 -m pytest tests/test_phase1_5_focused_browser_url.py tests/test_phase1_5_metadata_resolver.py tests/test_phase1_5_ocr_engine.py tests/test_phase1_5_offset_guard.py tests/test_phase1_buffer_pool.py tests/test_phase1_degradation.py tests/test_phase1_frame_extractor.py tests/test_phase1_gates.py tests/test_phase1_monitor_metadata_migration.py tests/test_phase1_monitor_upload_api.py tests/test_phase1_ocr_pipeline.py tests/test_phase1_pipeline_profile_change.py tests/test_phase1_retention.py tests/test_phase1_sck_stride_unpadding.py tests/test_phase1_search_debug_render.py tests/test_phase1_search_integration.py tests/test_phase1_server_startup.py tests/test_phase1_timeline_api.py tests/test_phase1_video_recorder.py -v` failed. (See above for error)


===== TEST 15 (phase2_all) =====
CMD: conda run -n v3 python3 -m pytest tests/test_phase2_*.py -v
RESULT: PASS
--- LOG TAIL (phase2_all) ---
    @pytest.mark.slow

tests/test_phase2_quality.py:184
  /Users/pyw/new/MyRecall/tests/test_phase2_quality.py:184: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

tests/test_phase2_quality.py:257
  /Users/pyw/new/MyRecall/tests/test_phase2_quality.py:257: PytestUnknownMarkWarning: Unknown pytest.mark.slow - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.slow

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
SKIPPED [1] tests/test_phase2_gates.py:540: Requires 24 hours of continuous runtime observation
SKIPPED [1] tests/test_phase2_gates.py:553: No GPU available -- VRAM measurement requires nvidia-smi
SKIPPED [1] tests/test_phase2_gates.py:627: Linux-only: LUKS check
SKIPPED [1] tests/test_phase2_gates.py:641: Optional gate -- PII redaction not implemented in Phase 2.0
SKIPPED [1] tests/test_phase2_performance.py:77: Requires faster-whisper model download and CPU time
SKIPPED [1] tests/test_phase2_performance.py:127: Requires torch + silero-vad model download
SKIPPED [1] tests/test_phase2_performance.py:245: Requires real audio hardware and psutil
SKIPPED [1] tests/test_phase2_quality.py:184: Requires faster-whisper model and LibriSpeech test-clean dataset
SKIPPED [1] tests/test_phase2_quality.py:257: Requires faster-whisper model and real noisy meeting recordings
SKIPPED [1] tests/test_phase2_vad.py:97: webrtcvad not installed
SKIPPED [1] tests/test_phase2_vad.py:119: webrtcvad not installed
================= 121 passed, 11 skipped, 5 warnings in 5.60s ==================


===== TEST 16 (tests_all) =====
CMD: conda run -n v3 python3 -m pytest tests/ -v --tb=short
RESULT: FAIL (rc=137)
--- LOG TAIL (tests_all) ---
SKIPPED [1] tests/test_phase1_gates.py:324: Requires 7 calendar days of runtime observation
SKIPPED [1] tests/test_phase1_gates.py:332: Requires 24h runtime monitoring
SKIPPED [1] tests/test_phase1_gates.py:340: Requires 24h disk usage measurement
SKIPPED [1] tests/test_phase1_gates.py:348: Requires runtime memory measurement
SKIPPED [1] tests/test_phase1_gates.py:356: Requires real video recording and processing pipeline
SKIPPED [1] tests/test_phase1_gates.py:364: Requires 1h CPU measurement
SKIPPED [1] tests/test_phase1_gates.py:372: Requires 100-frame curated test dataset
SKIPPED [1] tests/test_phase1_gates.py:424: Optional gate - PII detection not implemented in Phase 1
SKIPPED [1] tests/test_phase2_gates.py:540: Requires 24 hours of continuous runtime observation
SKIPPED [1] tests/test_phase2_gates.py:553: No GPU available -- VRAM measurement requires nvidia-smi
SKIPPED [1] tests/test_phase2_gates.py:627: Linux-only: LUKS check
SKIPPED [1] tests/test_phase2_gates.py:641: Optional gate -- PII redaction not implemented in Phase 2.0
SKIPPED [1] tests/test_phase2_performance.py:77: Requires faster-whisper model download and CPU time
SKIPPED [1] tests/test_phase2_performance.py:127: Requires torch + silero-vad model download
SKIPPED [1] tests/test_phase2_performance.py:245: Requires real audio hardware and psutil
SKIPPED [1] tests/test_phase2_quality.py:184: Requires faster-whisper model and LibriSpeech test-clean dataset
SKIPPED [1] tests/test_phase2_quality.py:257: Requires faster-whisper model and real noisy meeting recordings
SKIPPED [1] tests/test_phase2_vad.py:97: webrtcvad not installed
SKIPPED [1] tests/test_phase2_vad.py:119: webrtcvad not installed
========= 479 passed, 19 skipped, 22 deselected, 5 warnings in 15.55s ==========
Slow ffmpeg stdin write monitor=1 latency=345.10ms
/var/folders/q2/gtfbxhrj7zv1xn9cn6f3pzj40000gn/T/tmpdqxn9a9w: line 3: 60840 Killed: 9               python3 -m pytest tests/ -v --tb=short

ERROR conda.cli.main_run:execute(127): `conda run python3 -m pytest tests/ -v --tb=short` failed. (See above for error)


FAIL_COUNT=2
